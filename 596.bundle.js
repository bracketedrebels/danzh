(self.webpackChunkdanzh_client=self.webpackChunkdanzh_client||[]).push([[596],{596:(t,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>V});var e=r(9526),o=r(1039);function u(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var e,o,u=[],c=!0,a=!1;try{for(r=r.call(t);!(c=(e=r.next()).done)&&(u.push(e.value),!n||u.length!==n);c=!0);}catch(t){a=!0,o=t}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return c(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var a=r(5582),i=r(7687),s=r(7207),f=r(4928),l=r(4520),p=r(970);const y=(0,p.Z)(l.Z);var d=r(9419);const h=(0,p.Z)((function(t,n){return n>t?n:t}));var m=r(552),v=r(9226),b=r(1212),Z=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=b.Z.init,t.prototype["@@transducer/result"]=b.Z.result,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}();const g=(0,p.Z)((function(t,n){return new Z(t,n)}));var A=r(542);const j=(0,p.Z)((0,m.Z)(["fantasy-land/map","map"],g,(function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return(0,i.Z)(n.length,(function(){return t.call(this,n.apply(this,arguments))}));case"[object Object]":return(0,v.Z)((function(r,e){return r[e]=t(n[e]),r}),{},(0,A.Z)(n));default:return function(t,n){for(var r=0,e=n.length,o=Array(e);r<e;)o[r]=t(n[r]),r+=1;return o}(t,n)}}))),x=Number.isInteger||function(t){return t<<0===t};var w=r(5348);const I=(0,p.Z)((function(t,n){var r=t<0?n.length+t:t;return(0,w.Z)(n)?n.charAt(r):n[r]})),C=(0,p.Z)((function(t,n){return t.map((function(t){for(var r,e=n,o=0;o<t.length;){if(null==e)return;r=t[o],e=x(r)?I(r,e):e[r],o+=1}return e}))})),S=(0,p.Z)((function(t,n){return C([t],n)[0]})),k=(0,p.Z)((function(t,n){return S([t],n)})),F=(0,p.Z)((function(t,n){return j(k(t),n)}));var O=r(6306);const R=(0,d.Z)((function(t){return(0,i.Z)((0,O.Z)(h,0,F("length",t)),(function(){for(var n=0,r=t.length;n<r;){if(t[n].apply(this,arguments))return!0;n+=1}return!1}))})),T=(0,p.Z)((function(t,n){return null!=n&&n.constructor===t||n instanceof t})),U=function(){return!1},E=(0,p.Z)((function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(r){return t(r)(n(r))}:(0,v.Z)((function(t,r){return function(t,n){var r;n=n||[];var e=(t=t||[]).length,o=n.length,u=[];for(r=0;r<e;)u[u.length]=t[r],r+=1;for(r=0;r<o;)u[u.length]=n[r],r+=1;return u}(t,j(r,n))}),[],t)})),N=(0,p.Z)((function(t,n){var r=(0,i.Z)(t,n);return(0,i.Z)(t,(function(){return(0,v.Z)(E,j(r,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),M=(0,d.Z)((function(t){return N(t.length,t)})),G=(0,p.Z)((function(t,n){return t||n})),z=(0,p.Z)((function(t,n){return function(t){var n=Object.prototype.toString.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n}(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:M(G)(t,n)}));var K=null;try{K=T(new Function("return function* () {}")().constructor)}catch(t){K=U}const $=(0,i.Z)(1,z((0,s.Z)(f.Z,y("GeneratorFunction")),K)),_=(0,i.Z)(1,(0,s.Z)(f.Z,y("AsyncFunction"))),B=R([(0,s.Z)(f.Z,y("Function")),$,_]),H=(0,i.Z)(1,B(Array.isArray)?Array.isArray:(0,s.Z)(f.Z,y("Array")));var P=r(5092);const q=function(t){var n=(0,P.TH)().search,r=(0,e.useMemo)((function(){return(0,a.parse)(n.slice(1))[t]}),[n,t]);return(0,e.useMemo)((function(){return H(r)?r:[r]}),[r])};var D=r(5119),J=r(7557);function L(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var e,o,u=[],c=!0,a=!1;try{for(r=r.call(t);!(c=(e=r.next()).done)&&(u.push(e.value),!n||u.length!==n);c=!0);}catch(t){a=!0,o=t}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return Q(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}const V=function(){var t,n,r,c,a=L(q("code"),1)[0],i=L(q("error"),1)[0],s=L(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=u((0,e.useState)(t),2),o=r[0],c=r[1],a=(0,e.useRef)(),i=(0,e.useCallback)((function(){self.clearTimeout(a.current),a.current=self.setInterval((function(){return c((function(t){return t-n}))}),n)}),[n]);return(0,e.useEffect)((function(){o<=0&&self.clearTimeout(a.current)}),[o,i]),(0,e.useEffect)((function(){return function(){return self.clearTimeout(a.current)}}),[]),[o,i]}(5e3),2),f=s[0],l=s[1],p=(t=window.close,n=5e3,r=(0,e.useRef)(),c=(0,e.useCallback)((function(){for(var e,o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];r.current=(e=self).setTimeout.apply(e,[t,n].concat(u))}),[t,n]),(0,e.useEffect)((function(){return function(){return self.clearTimeout(r.current)}}),[c]),c),y=(0,e.useCallback)((function(){return a&&localStorage.setItem("oauth.token.discord",a)}),[a]);return(0,D.Z)("beforeunload",y),(0,e.useEffect)((function(){return p(),l()}),[i,p,l]),i?(0,J.jsx)("div",{className:"fixed inset-0 flex place-content-center bg-background",children:(0,J.jsx)("div",{className:"bg-surface border-error border-0 border-b-2 p-5 text-primary",children:i})}):(0,J.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-background",children:(0,J.jsx)("div",{className:"pt-8 text-background-contrast font-sans font-normal text-sm m-auto",children:(0,J.jsxs)(o.Z,{children:["This page will be closed automatically in ",~~(f/1e3)," seconds."]})})})}},1039:(t,n,r)=>{"use strict";r.d(n,{Z:()=>o});var e=r(7557);const o=function(t){var n=t.children,r=void 0===n?null:n;return(0,e.jsx)(e.Fragment,{children:r})}},6063:t=>{"use strict";function n(t,n){return Object.prototype.hasOwnProperty.call(t,n)}t.exports=function(t,r,e,o){r=r||"&",e=e||"=";var u={};if("string"!=typeof t||0===t.length)return u;var c=/\+/g;t=t.split(r);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var i=t.length;a>0&&i>a&&(i=a);for(var s=0;s<i;++s){var f,l,p,y,d=t[s].replace(c,"%20"),h=d.indexOf(e);h>=0?(f=d.substr(0,h),l=d.substr(h+1)):(f=d,l=""),p=decodeURIComponent(f),y=decodeURIComponent(l),n(u,p)?Array.isArray(u[p])?u[p].push(y):u[p]=[u[p],y]:u[p]=y}return u}},1957:t=>{"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,e,o){return r=r||"&",e=e||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(o){var u=encodeURIComponent(n(o))+e;return Array.isArray(t[o])?t[o].map((function(t){return u+encodeURIComponent(n(t))})).join(r):u+encodeURIComponent(n(t[o]))})).filter(Boolean).join(r):o?encodeURIComponent(n(o))+e+encodeURIComponent(n(t)):""}},5582:(t,n,r)=>{"use strict";n.parse=r(6063),r(1957)}}]);